<app-menu (onFetchValue)="setFetchValue($event)" />

<div class="w-full flex flex-col md:flex-row bg-zinc-950">
  <div
    class="resize-none md:resize-x w-full md:w-[33.3333%] flex-grow mx-auto flex flex-col h-full md:h-[calc(100vh-56px)] overflow-x-hidden overflow-y-auto md:overflow-y-scroll border-r border-zinc-800"
  >
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="p-4 md:p-8 w-full">
      <div class="w-full max-w-xs text-center mx-auto">
        <h1 class="mb-4 md:mb-8 text-sm leading-4 text-zinc-300">
          Just type the data and generate the meta tags for your website
        </h1>
      </div>
      <div class="w-full grid grid-cols-1 flex-col gap-8">
        <div
          class="relative flex flex-col gap-1"
          *ngFor="let field of formFields"
        >
          <ng-container *ngIf="field.type === 'text' || field.type === 'color'">
            <label [for]="field.name" class="leading-4 text-xs text-zinc-200">{{
              field.label
            }}</label>

            <div
              *ngIf="field.name === 'image' && form?.get('image')"
              class="w-full min-h-60 rounded bg-zinc-800 border border-zinc-800 overflow-hidden"
            >
              <img *ngIf="form?.get('image')?.value" [src]="form.get('image')?.value" width="100%" alt="" />
            </div>

            <div class="relative w-full">
              <input
                [type]="field.type"
                [id]="field.name"
                [name]="field.name"
                [placeholder]="field.label"
                [formControlName]="field.name"
                class="h-8 text-xs w-full bg-zinc-900 rounded border border-zinc-800 focus:border-zinc-500 focus:ring-2 focus:ring-zinc-200 outline-none text-zinc-200 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"
              />
              <div class="" *ngIf="field.name === 'color'">
                <input
                  type="color"
                  [id]="field.name"
                  [name]="field.name"
                  [placeholder]="field.label"
                  [formControlName]="field.name"
                  (change)="changeColor($event)"
                  class="appearance-none w-6 min-w-6 h-6 rounded overflow-hidden absolute bottom-1 right-1 bg-transparent"
                />
              </div>
            </div>
            <span class="text-xs text-zinc-400 leading-4 mt-1">{{
              field.description
            }}</span>
          </ng-container>

          <ng-container *ngIf="field.type === 'select'">
            <label [for]="field.name" class="leading-4 text-xs text-zinc-200">{{
              field.label
            }}</label>
            <select
              [id]="field.name"
              [formControlName]="field.name"
              class="h-8 text-xs w-full bg-zinc-900 rounded border border-zinc-800 focus:border-zinc-500 focus:ring-2 focus:ring-zinc-200 outline-none text-zinc-200 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"
            >
              <option
                *ngFor="let option of field.options"
                [value]="option.value"
              >
                {{ option.value }}
              </option>
            </select>
            <span class="text-xs text-zinc-400 leading-4 mt-1">{{
              field.description
            }}</span>
          </ng-container>
        </div>
      </div>
    </form>

    <app-footer />
  </div>

  <div
    class="resize-none md:resize-x w-full md:w-[33.3333%] flex-grow mx-auto flex flex-col h-full md:h-[calc(100vh-56px)] overflow-hidden border-r border-zinc-800"
  >
    <app-code-result [code]="code" class="h-full" />
  </div>

  <div
    class="w-full md:w-[33.3333%] flex-grow overflow-auto h-full md:h-[calc(100vh-56px)] bg-zinc-950 overflow-y-auto md:overflow-y-scroll overflow-x-hidden p-4 md:p-8"
  >
    <app-preview [content]="form.value" />
  </div>
</div>
